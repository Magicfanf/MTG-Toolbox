<form name="submit-to-google-sheet">
  <input id="form-SetNo1" size=1000 value="0">
  <input id="form-SetNo2" size=1000 value="0">
  <img id="img1" width=163 height=227>
  <img id="imgBase64" width=163 height=227>
</form>

<script>
const form = document.forms['submit-to-google-sheet'];

var imageUrl = "https://docs.google.com/uc?export=view&id=1VFo1Dkw0T4IghN_e6vItp5sPSE62vubP";

const img1 = document.getElementById('img1');
img1.width=163;
img1.height=227;
img1.src=imageUrl;

const imgBase64 = document.getElementById('imgBase64');
imgBase64.width = 163;
imgBase64.height = 227;

const canvas = document.createElement("canvas");
canvas.width = 163;
canvas.height = 227;

var ctx = canvas.getContext("2d");
ctx.drawImage(img1, 0, 0);

var dataURL = canvas.toDataURL("image/jpeg");
form.elements['form-SetNo1'].value = dataURL;

var dataURLclean = dataURL.replace(/^data:image\/(png|jpg);base64,/,"");
form.elements['form-SetNo2'].value = dataURLclean;

imgBase64.src = dataURLclean;

/*function getBase64Image(imageUrl) {
  const canvas = document.createElement("canvas");
  canvas.width = 244;
  canvas.height = 340;
  var ctx = canvas.getContext("2d");
  const image1 = document.createElement("img");
  image1.width = 244;
  image1.height = 340;
  image1.src = imageUrl;
  ctx.drawImage(image1, 0, 0);
  var dataURL = canvas.toDataURL("image/jpeg");
  form.elements['form-SetNo1'].value = dataURL;
  document.body.appendChild(image1);
  return dataURL.replace(/^data:image\/(png|jpg);base64,/,"");
}*/

</script>
