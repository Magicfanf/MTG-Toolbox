<form name="submit-to-google-sheet">
  <input name="SetNo1" id="form-SetNo1" size=100 value="0">
  <img name="img1" width = 244 height = 340>
  <img name="imgBase64" width = 244 height = 340>
</form>

<script>
const form = document.forms['submit-to-google-sheet'];

imageUrl = "https://docs.google.com/uc?export=view&id=1VFo1Dkw0T4IghN_e6vItp5sPSE62vubP";

const img1 = document.getElementbyId('img1');
img1.width = 244;
img1.height = 340;
img1.src=imageUrl;

const imgBase64 = document.getElementbyId('imgBase64');
imgBase64.width = 244;
imgBase64.height = 340;

const canvas = document.createElement("canvas");
canvas.width = 244;
canvas.height = 340;

var ctx = canvas.getContext("2d");
ctx.drawImage(img1, 0, 0);

var dataURL = canvas.toDataURL("image/jpeg");
imgBase64.src = dataURL.replace(/^data:image\/(png|jpg);base64,/,"");

//document.body.appendChild(img1);
//document.body.appendChild(imgBase64);
//form.elements['form-SetNo1'].value = dataURL;


/*function getBase64Image(imageUrl) {
  const canvas = document.createElement("canvas");
  canvas.width = 244;
  canvas.height = 340;
  var ctx = canvas.getContext("2d");
  const image1 = document.createElement("img");
  image1.width = 244;
  image1.height = 340;
  image1.src = imageUrl;
  ctx.drawImage(image1, 0, 0);
  var dataURL = canvas.toDataURL("image/jpeg");
  form.elements['form-SetNo1'].value = dataURL;
  document.body.appendChild(image1);
  return dataURL.replace(/^data:image\/(png|jpg);base64,/,"");
}*/

</script>
